# 01. 배열의 복사

배열은 한 번 생성하면 그 길이를 변경할 수 없다. 따라서 더 많은 저장공간이 필요할 경우<br>
보다 큰 배열을 새로 만들고 이전 배열로부터 내용을 복사해야 한다.

```java
int[] arr = new int[]{1, 2, 3, 4, 5};

int[] tmp = new int[arr.length * 2];

for (int i = 0; i < arr.length; i++) {
    tmp[i] = arr[i];
}

arr = tmp;
```

위와 같은 방식으로 배열의 복사를 구현할 수 있다. 배열의 이름이자 참조변수인 `arr`과 `tmp`는<br>
최종적으로 같은 배열을 가리키게 된다. 즉 배열 `arr`과 `tmp`는 이름만 다를 뿐 동일한 배열이다.

`arr[0]`의 값을 변경하면 `tmp[0]`의 값 역시 바뀌게 된다.

또한 이전에 `arr`이 가리키던 배열은 더 이상 사용할 수 없게 된다.<br>
배열은 참조변수를 통해서만 접근할 수 있으므로, 참조변수가 없는 배열은 사용할 수 없다.<br>
이렇게 쓸모없게 된 배열은 JVM의 가비지 컬렉터(Garbage Collector)에 의해 자동으로 메모리에서 제거된다.

---

`for`문 대신 `System`클래스의 `arraycopy()`를 사용하면 보다 간단하고 빠르게 배열을 복사할 수 있다.<br>
`arraycopy()`는 지정된 범위의 값들을 한 번에 통째로 복사하기에 `for`문을 통한 개별 요소 복사보다 빠른 것이다.<br>
이는 배열의 각 요소들이 연속적으로 저장되어 있다는 배열의 특성 때문에 처리가 가능한 것이다.

⭐ 배열의 복사는 for문보다 System.arraycopy()를 사용하는 것이 빠르다.

```java
char[] abc = new char[]{'A', 'B', 'C'};
char[] num = new char[]{'1', '2', '3', '4'};

char[] result = new char[abc.length + num.length];

System.arraycopy(abc, 0, result, 0, abc.length);
System.arraycopy(num, 0, result, abc.length, num.length);

System.out.println(result); // ABC1234
```

char[] 배열의 참조변수인 배열의 이름은 타 배열들과 다르게 문자들을 합쳐 문자열로 출력한다.

이때 복사하려는 배열의 위치가 적절하지 못하여 복사하려는 내용보다 여유 공간이 적으면<br>
`ArrayIndexOutOfBoundsException`이 발생한다.